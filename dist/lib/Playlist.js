"use strict";var __importDefault=this&&this.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(exports,"__esModule",{value:!0});const Error_1=require("../Error"),Spotify_1=__importDefault(require("../Spotify"));class Playlist extends Spotify_1.default{async get(r){return new Promise((async(e,t)=>{r||t(new Error_1.MissingParamError("missing id"));try{const t=await this.fetch({link:"v1/playlists/"+r,params:{market:"US"}});t.codeImg="https://scannables.scdn.co/uri/plain/jpeg/e8e6e6/black/1080/"+t.uri,e(t)}catch(r){t(new Error_1.UnexpectedError(r))}}))}async getTracks(r,e){return new Promise((async(t,i)=>{r||i(new Error_1.MissingParamError("missing id")),e||(e={});try{let i=(await this.fetch({link:`v1/playlists/${r}/tracks`,params:{market:"US",limit:e.limit||20}})).items;if(e.advanced)for(let r=0;r<i.length;r++){let e=await this.getCodeImage(i[r].uri);i[r].codeImage=e.image,i[r].dominantColor=e.dominantColor}t(i)}catch(r){i(new Error_1.UnexpectedError(r))}}))}}exports.default=Playlist;
